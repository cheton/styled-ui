# Accordion

`Accordion` is used to display a list of high-level options that can expand/collapse to reveal more information.

### Accordion components

- `Accordion`: The wrapper that uses cloneElement to pass its prop to `AccordionItem`.
- `AccordionItem`: A single accordion item.
- `AccordionHeader`: It is used to toggle the expand/collapse state of the accordion item.
- `AccordionPanel`: The container for the details to be revealed.
- `AccordionIcon`: A `chevron-down` icon that rotates based on the expand/collapse state.

## Import

```js
import {
  Accordion,
  AccordionItem,
  AccordionHeader,
  AccordionPanel,
  AccordionIcon,
} from "@trendmicro/react-styled-core/Accordion";
```

## Usage

By default, only one item may be expanded and it can only be collapsed again by
expanding another.

```jsx
<Accordion>
  <AccordionItem>
    <AccordionHeader>
      <AccordionIcon />
      <Space width=".5rem" />
      Section 1 title
    </AccordionHeader>
    <AccordionPanel pb="1rem">
      Trend Micro Frontend
    </AccordionPanel>
  </AccordionItem>
  <AccordionItem>
    <AccordionHeader>
      <AccordionIcon />
      <Space width=".5rem" />
      Section 2 title
    </AccordionHeader>
    <AccordionPanel pb="1rem">
      Trend Micro Frontend
    </AccordionPanel>
  </AccordionItem>
</Accordion>
```

### Expand multiple items at once

If you set `allowMultiple` to true, then the accordion will permit multiple items to be expanded at once.

If you pass this prop, ensure that the `index` or `defaultIndex` prop is an array.

```jsx
<Accordion
  defaultIndex={[0]}
  allowMultiple
>
  <AccordionItem>
    <AccordionHeader>
      <AccordionIcon />
      <Space width=".5rem" />
      Section 1 title
    </AccordionHeader>
    <AccordionPanel pb="1rem">
      Trend Micro Frontend
    </AccordionPanel>
  </AccordionItem>
  <AccordionItem>
    <AccordionHeader>
      <AccordionIcon />
      <Space width=".5rem" />
      Section 2 title
    </AccordionHeader>
    <AccordionPanel pb="1rem">
      Trend Micro Frontend
    </AccordionPanel>
  </AccordionItem>
</Accordion>
```

### Toggle each accordion item

If you set `allowToggle` to true, any expanded item may be collapsed again.

```jsx
<Accordion allowToggle>
  <AccordionItem>
    <AccordionHeader>
      <AccordionIcon />
      <Space width=".5rem" />
      Section 1 title
    </AccordionHeader>
    <AccordionPanel pb="1rem">
      Trend Micro Frontend
    </AccordionPanel>
  </AccordionItem>
  <AccordionItem>
    <AccordionHeader>
      <AccordionIcon />
      <Space width=".5rem" />
      Section 2 title
    </AccordionHeader>
    <AccordionPanel pb="1rem">
      Trend Micro Frontend
    </AccordionPanel>
  </AccordionItem>
</Accordion>
```

### Styling the expanded state

The `AccordionItem` component has the render prop `isExpanded` set to `true` or `false`.

```jsx
<AccordionItem>
  {({ isExpanded }) => (
    <>
      <AccordionHeader
        bg={isExpanded ? 'tomato': 'green.50'}
        color={isExpanded ? 'white' : 'red.100' }
        _hover={{ bg: 'tomato' }}
        p=".75rem"
      >
        <AccordionIcon />
        <Space width=".5rem" />
        Click me to see a different style
      </AccordionHeader>
      <AccordionPanel p=".75rem">
        Trend Micro Frontend
      </AccordionPanel>
    </>
  )}
</AccordionItem>
```

### Accessing the internal state

If you need access to the internal state of each accordion item, you can use a
render prop. It provides 2 internal state `isExpanded`, and `isDisabled`.

```jsx
<Accordion allowMultiple>
  <AccordionItem>
    <AccordionHeader>
      <AccordionIcon />
      <Box flex="1" textAlign="left">
        Section 2 title
      </Box>
    </AccordionHeader>
    <AccordionPanel pb="1rem">
      Trend Micro Frontend
    </AccordionPanel>
  </AccordionItem>

  <AccordionItem>
    {({ isExpanded }) => (
      <>
        <AccordionHeader>
          <Box flex="1" textAlign="left">
            Section 2 title
          </Box>
          <Icon size="12px" name={isExpanded ? "minus" : "add"} />
        </AccordionHeader>
        <AccordionPanel pb="1rem">
          Trend Micro Frontend
        </AccordionPanel>
      </>
    )}
  </AccordionItem>
</Accordion>
```

## Accessibility

Pressing `space` or `enter` when focus is on the accordion panel header will
toggle (expand or collapse) the accordion.

## Props

### Accordion Props

| Name          | Type                              | Default | Description                                                                                               |
| ------------- | --------------------------------- | ------- | --------------------------------------------------------------------------------------------------------- |
| allowMultiple | `boolean`                         |         | If `true`, multiple accordion items can be expanded at once.                                              |
| allowToggle   | `boolean`                         |         | If `true`, any expanded accordion item can be collapsed again.                                            |
| index         | `NumberOrArrayOfNumber`           |         | The index(es) of the expanded accordion item                                                              |
| defaultIndex  | `NumberOrArrayOfNumber`           |         | The initial index(es) of the expanded accordion item                                                      |
| onChange      | `(NumberOrArrayOfNumber) => void` |         | The callback invoked when accordion items are expanded or collapsed.                                      |
| children      | `ReactNode`                       |         | The content of the accordion. The children must be the `AccordionHeader` and `AccordionPanel` components. |

### AccordionItem Props

| Name          | Type                                      | Default | Description                                                                                               |
| ------------- | ----------------------------------------- | ------- | --------------------------------------------------------------------------------------------------------- |
| isOpen        | `boolean`                                 |         | If `true`, expands the accordion in the controlled mode.                                                  |
| defaultIsOpen | `boolean`                                 |         | If `true`, expands the accordion by on initial mount.                                                     |
| id            | `string`                                  |         | A unique `id` for the accordion item.                                                                     |
| isDisabled    | `boolean`                                 |         | If `true`, the accordion header will be disabled.                                                         |
| onChange      | `(NumberOrArrayOfNumber) => void`         |         | The callback fired when the accordion is expanded/collapsed.                                              |
| children      | `ReactNode`, `(RenderProps) => ReactNode` |         | The content of the accordion. The children must be the `AccordionHeader` and `AccordionPanel` components. |

<br />

### AccordionHeader Props

`AccordionHeader` renders a `button` and composes the [`PseudoBox`](./pseudobox) component, this means you can style it by passing the pseudo style props `_disabled`, `_hover`, etc.

### AccordionPanel Props

`AccordionPanel` renders a `div` and composes the [`Collapse`](./collapse) component to provide the height animation.
