# Toast

A toast notification is a small message that shows up in a box at one side of the screen and disappears on its own after few seconds. It is a simple feedback about an operation in which current activity remains visibility and interactive. Basically it is to inform the user of something that is not critical and that does not require specific attention and does not prevent the user from using the app.

## Import

```js
import Toast from '@trendmicro/react-styled-ui/Toast';
// or
import { Toast } from '@trendmicro/react-styled-ui';
```

## Usage

```jsx noInline
const Layout = (props) => {
  const { colorMode } = useColorMode();
  const boxShadow = {
    dark: 'dark.sm',
    light: 'light.sm',
  }[colorMode];

  return (
    <Box fontSize="sm" lineHeight="sm" textAlign="left" my="2x" boxShadow={boxShadow} {...props} />
  );
};

const BasicToast = ({ onClose }) => (
  <Toast>
    <Flex align="flex-start" justify="space-between">
      <Text>
        This is the notification content.
      </Text>
      <Space minWidth="4x" />
      <ButtonBase opacity=".6" _hover={{ opacity: 1 }} onClick={onClose}>
        <TMIcon name="close-s" />
      </ButtonBase>
    </Flex>
  </Toast>
);

const BasicToastWithTitle = ({ onClose }) => (
  <Toast>
    <Flex align="flex-start" justify="space-between" mb="2x">
      <Heading fontWeight="bold">Notification Title</Heading>
      <Space minWidth="4x" />
      <ButtonBase opacity=".6" _hover={{ opacity: 1 }} onClick={onClose}>
        <TMIcon name="close-s" />
      </ButtonBase>
    </Flex>
    <Text>
      This is the notification content.
    </Text>
  </Toast>
);

const BasicToastWithIcon = ({ onClose }) => (
  <Toast>
    <Flex align="flex-start" justify="space-between">
      <Flex align="flex-start">
        <Box
          bg="gray:40"
          height={48}
          minWidth={48}
        />
        <Space minWidth="4x" />
        <Text>
          This is the notification content.
        </Text>
      </Flex>
      <Space minWidth="4x" />
      <ButtonBase opacity=".6" _hover={{ opacity: 1 }} onClick={onClose}>
        <TMIcon name="close-s" />
      </ButtonBase>
    </Flex>
  </Toast>
);

const BasicToastWithActionButton = ({ onClose }) => (
  <Toast>
    <Flex align="flex-start" justify="space-between" mb="6x">
      <Text>
        This is the notification content.
      </Text>
      <Space minWidth="4x" />
      <ButtonBase opacity=".6" _hover={{ opacity: 1 }} onClick={onClose}>
        <TMIcon name="close-s" />
      </ButtonBase>
    </Flex>
    <Flex justify="flex-end">
      <FlatButton variant="outline" color="black:primary" size="sm">
        Action Button
      </FlatButton>
    </Flex>
  </Toast>
);

const BasicToastWithLink = ({ onClose }) => (
  <Toast>
    <Flex align="flex-start" justify="space-between" mb="6x">
      <Text>
        This is the notification content.
      </Text>
      <Space minWidth="4x" />
      <ButtonBase opacity=".6" _hover={{ opacity: 1 }} onClick={onClose}>
        <TMIcon name="close-s" />
      </ButtonBase>
    </Flex>
    <Flex justify="flex-end">
      <Link>
        Learn More
      </Link>
    </Flex>
  </Toast>
);

const BasicToastWithAllTogether = ({ onClose }) => (
  <Toast>
    <Flex align="flex-start" justify="space-between" mb="2x">
      <Heading fontWeight="bold">Notification Title</Heading>
      <Space minWidth="4x" />
      <ButtonBase opacity=".6" _hover={{ opacity: 1 }} onClick={onClose}>
        <TMIcon name="close-s" />
      </ButtonBase>
    </Flex>
    <Flex align="flex-start" mb="6x">
      <Box
        bg="gray:40"
        height={48}
        minWidth={48}
      />
      <Space minWidth="4x" />
      <Text>
        This is the notification content.
      </Text>
    </Flex>
    <Flex justify="flex-end">
      <FlatButton variant="outline" color="black:primary" size="sm">
        Action Button
      </FlatButton>
    </Flex>
  </Toast>
);

function Example() {
  const toast = useToast();
  const ToastComponent = BasicToast;
  const handleClickBy = (ToastComponent) => () => {
    toast({
      duration: 5000,
      render: ({ onClose }) => (
        <Layout minWidth={320}>
          <ToastComponent onClose={onClose} />
        </Layout>
      ),
    });
  };

  return (
    <>
      <Stack direction="column" spacing="4x">
        <Box>
          <Button
            variant="secondary"
            mr="4x"
            onClick={handleClickBy(BasicToast)}
          >
            Show basic toast
          </Button>
          <Layout><BasicToast /></Layout>
        </Box>
        <Box>
          <Button
            variant="secondary"
            mr="4x"
            onClick={handleClickBy(BasicToastWithTitle)}
          >
            Show basic toast with title
          </Button>
          <Layout><BasicToastWithTitle /></Layout>
        </Box>
        <Box>
          <Button
            variant="secondary"
            mr="4x"
            onClick={handleClickBy(BasicToastWithIcon)}
          >
            Show basic toast with icon
          </Button>
          <Layout><BasicToastWithIcon /></Layout>
        </Box>
        <Box>
          <Button
            variant="secondary"
            mr="4x"
            onClick={handleClickBy(BasicToastWithActionButton)}
          >
            Show basic toast with action button
          </Button>
          <Layout><BasicToastWithActionButton /></Layout>
        </Box>
        <Box>
          <Button
            variant="secondary"
            mr="4x"
            onClick={handleClickBy(BasicToastWithLink)}
          >
            Show basic toast with link
          </Button>
          <Layout><BasicToastWithLink /></Layout>
        </Box>
        <Box>
          <Button
            variant="secondary"
            mr="4x"
            onClick={handleClickBy(BasicToastWithAllTogether)}
          >
            Show basic toast with all together
          </Button>
          <Layout><BasicToastWithAllTogether /></Layout>
        </Box>
      </Stack>
    </>
  );
}

render(<Example />);
```

### Severity levels

The toast offers four severity levels, each has a distinctive icon and color.

```jsx
<Stack direction="column" spacing="4x">
  <Toast severity="success">
    This is a success toast.
  </Toast>
  <Toast severity="info">
    This is an info toast.
  </Toast>
  <Toast severity="warning">
    This is a warning toast.
  </Toast>
  <Toast severity="error">
    This is an error toast.
  </Toast>
</Stack>
```

### Using the `useToast` hook

#### Available options

* `position`

  You can display toast notifications in different positions, including `top-left`, `top`, `top-right`, `bottom-left`, `bottom`, and `bottom-right`. The default value is `top`.

* `duration`

  When the `duration` is set to `null`, the toast notification will appear indefinitely until manually closed by the user. The default value is `5000` in milliseconds.

```jsx noInline
const Layout = (props) => {
  const { colorMode } = useColorMode();
  const boxShadow = {
    dark: 'dark.sm',
    light: 'light.sm',
  }[colorMode];

  return (
    <Box fontSize="sm" lineHeight="sm" textAlign="left" my="2x" boxShadow={boxShadow} {...props} />
  );
};

const BasicToast = ({ onClose }) => (
  <Toast>
    <Flex align="flex-start" justify="space-between">
      <Text>
        This is the notification content.
      </Text>
      <Space minWidth="4x" />
      <ButtonBase opacity=".6" _hover={{ opacity: 1 }} onClick={onClose}>
        <TMIcon name="close-s" />
      </ButtonBase>
    </Flex>
  </Toast>
);

function Example() {
  const toast = useToast();
  const duration = 5000; // in ms
  const handleClickBy = (position) => () => {
    toast({
      duration,
      position,
      render: (props) => <BasicToast {...props} />,
    });
  };

  return (
    <Grid
      gap="4x"
      templateColumns="1fr 1fr 1fr"
    >
      <Button onClick={handleClickBy('top-left')}>
        Top Left
      </Button>
      <Button onClick={handleClickBy('top')}>
        Top
      </Button>
      <Button onClick={handleClickBy('top-right')}>
        Top Right
      </Button>
      <Button onClick={handleClickBy('bottom-left')}>
        Bottom Left
      </Button>
      <Button onClick={handleClickBy('bottom')}>
        Bottom
      </Button>
      <Button onClick={handleClickBy('bottom-right')}>
        Bottom Right
      </Button>
    </Grid>
  );
}

render(<Example />);
```

## Props

`Toast` composes the `Flex` component.

| Name | Type | Default | Description |
| :--- | :--- | :------ | :---------- |
| severity | string | 'none' | The severity level of the alert. One of: `'none'`, `'success'`, `'info'`, `'warning'`, `'error'` |
| icon | string \| ReactNode \| false | | Override the icon displayed before the children. Unless provided, the icon is mapped to the value of the `severity` prop. |
